{% extends '_base.html' %} {% load crispy_forms_tags %} {% block title %}Whistly
- Search{% endblock title %} {% block content %}

<div class="container">
  <div class="row">
    <div class="col-12" align="center">
      <h3 class="mb-3"><i class="fa fa-file-o"></i> Whistly - Search Results</h3>
      <p class="">Please find bellow the result of your search</p>
      <p class="mb-3">or start a new search...</p>
      <form action="{% url 'search_results' %}" method="GET">
        <input
          type="text"
          name="q"
          class="form-control"
          placeholder="eg.: bird species... location... photographer"
          style="max-width: 600px;"
        >
        <button class="btn btn-info" type="button" style="width: auto; height:auto">
          <i class="fa fa-search"></i>
        </button>
      </form>
      
      
      {% if user_search %}
        <p>Showing all results matching <strong>{{user_search}}</strong></p>
      {% endif %}
    </div>
  </div>

  <div class="row">
    {{request.get_full_path}}
  <div class="container col-12" align=center>
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Order by:
      </button>
      <form action="{% url 'search_results' %}" method="GET">
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <a name="recent" class="dropdown-item" href="#">Most recent</a>
          <a name="comment" class="dropdown-item" href="#">Most comments</a>
          <a name='seed' class="dropdown-item" href="#">Most seeds</a>
          <a name='photographer' class="dropdown-item" href="#">Photographer</a>
          <a name='species' class="dropdown-item" href="#">Species</a>
        </div>
      </form>
    </div>

  </div>

    <!-- BEGIN ORDER RESULT -->
    <!-- <div class="col-sm-6">
      <div class="btn-group">
        <button
          type="button"
          class="btn btn-default dropdown-toggle"
          data-toggle="dropdown"
        >
          Order by <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li><a href="#">Species</a></li>
          <li><a href="#">Most Recent</a></li>
          <li><a href="#">Photographer</a></li>
          <li><a href="#">Seeds</a></li>
          <li><a href="#">NÂº. Comments</a></li>
        </ul>
      </div>
    </div> -->
    <!-- END ORDER RESULT -->

    <!-- search starts here -->
      {% for result in bird_list %}
        <div class="container">
          <!-- comments start -->
          <div class="media mt-3 p-3">
            <a href="{{ result.get_absolute_url }}">
              <img class="mr-3 img-thumbnail" src="{{ result.picture.url }}" alt="Generic placeholder image" style="height: 150px; width: 200px;">
            </a>
            <div class="media-body">
              <p class="small float-right">Photographer: {{ result.photographer|capfirst }}</p>
              <h5 class="mt-0">Species: {{ result.species }}
                <span class="ml-2">
                  <i class="fas fa-seedling"></i> 
                  {{ result.seeds.count }}
                </span>
              </h5>
              {{ result.photographer_comment }}
            </div>
          </div>
          </div>
      {% endfor %}
      <!-- search ends here -->


</div>
<!-- main row ends here -->
</div>

{% include 'pagination.html' %}

{% endblock content %}
